---
import Site from "../layouts/Site.astro";
import About from "../components/About.mdx";

import { getCollection } from "astro:content";
const posts = await getCollection("posts");
const publications = await getCollection("publications");

// Welcome to Astro! Everything between these triple-dash code fences
// is your "component front matter". It never runs in the browser.
console.log("This runs in your terminal, not the browser!");
---

<Site t>
  <h1>Hello, World!</h1>
  <About />

  <section id="posts">
    <ul>
      {
        posts.map((post) => (
          <li>
            <a href={`/posts/${post.slug}`}>{post.data.title}</a>
            <time datetime={post.data.date.toISOString()}>
              {post.data.date.toDateString()}
            </time>
          </li>
        ))
      }
    </ul>
  </section>

  <section id="publications">
    <ul>
      {
        publications.map((post) => (
          <li>
            <a href={`/publications/${post.slug}`}>{post.data.title}</a>
            <time datetime={post.data.date.toISOString()}>
              {post.data.date.toDateString()}
            </time>
          </li>
        ))
      }
    </ul>
  </section>
</Site>

<style>
  h1 {
    color: orange;
  }
</style>
